---
import { Image } from "astro:assets";

// Interface de certificaciones
interface Certificacion {
  nombre: string;
  img: string;
  alt: string;
  url: string;
  importante: boolean;
}

const certificaciones = [
  {
    nombre: "Introducción a la ciberseguridad para ICS",
    img: "/img/certifications/introduccion-a-la-ciberseguridad-para-ics.png",
    alt: "Introducción a la ciberseguridad para ICS",
    url: "https://www.credly.com/badges/bcbf143b-88a5-4ad0-92e8-f69461ce2c0b/public_url",
    importante: false,
  },
  {
    nombre: "Estándares y Buenas Prácticas de Ciberseguridad para Infraestructuras Críticas Industriales",
    img: "/img/certifications/estandares-y-buenas-practicas-de-ciberseguridad-para-infraestructuras-criticas-industriales.png",
    alt: "Estándares y Buenas Prácticas de Ciberseguridad para Infraestructuras Críticas Industriales",
    url: "https://www.credly.com/badges/ddb4d94e-075c-4668-a254-00254fb31166/public_url",
    importante: false,
  },
  {
    nombre: "Implementador Líder de un Ransomware Business Continuity Plan (RBCP)",
    img: "/img/certifications/implementador-lider-de-un-ransomware-business-conti.png",
    alt: "Implementador Líder de un Ransomware Business Continuity Plan (RBCP)",
    url: "https://www.credly.com/badges/e0eb612d-84c0-4704-970c-408186038910/public_url",
    importante: false,
  },
  {
    nombre: "Implementador Líder Ciberseguridad CIP",
    img: "/img/certifications/implementador-lider-ciberseguridad-cip.png",
    alt: "Implementador Líder Ciberseguridad CIP",
    url: "https://www.credly.com/badges/aba616e7-1941-40cc-a485-fe2ff86ad7ac/public_url",
    importante: false,
  },
  {
    nombre: "Diplomado en ciberseguridad industrial",
    img: "/img/certifications/diplomado-en-ciberseguridad-industrial.png",
    alt: "Diplomado en ciberseguridad industrial",
    url: "https://www.credly.com/badges/3ac42318-ba42-45d0-9832-33ad0db3af2a/public_url",
    importante: true,
  },
  {
    nombre: "Técnicas de Evasión de Sistemas de Seguridad y Creación de Malware",
    img: "/img/certifications/tecnicas-de-evasion-de-sistemas-de-seguridad-y-creacion-de-malware.png",
    alt: "Técnicas de Evasión de Sistemas de Seguridad y Creación de Malware",
    url: "https://www.credly.com/badges/0e7da853-17be-4393-9f8c-b49949ce67ff/public_url",
    importante: false,
  },
  {
    nombre: "Cibersecutity Awareness",
    img: "/img/certifications/cibersecurity-awareness.png",
    alt: "Cibersecutity Awareness",
    url: "https://www.credly.com/badges/f311c886-f38a-4b7c-8745-5027de3b335b/linked_in_profile",
    importante: false,
  },
  {
    nombre: "CCNA: Introduction to Networks",
    img: "/img/certifications/ccna-introduction-to-networks.png",
    alt: "CCNA: Introduction to Networks",
    url: "https://www.credly.com/badges/13bea9eb-d2ac-469d-b491-71aa63547348",
    importante: false,
  },
];

/* Ordenar certificaciones colocando las importantes al inicio */
certificaciones.sort((a: Certificacion, b: Certificacion) => Number(b.importante) - Number(a.importante));
---
<div class="flex flex-wrap mx-auto">
  {certificaciones.map((certificacion: Certificacion) => {
    // Generar rutas para diferentes resoluciones
    const imgPath = certificacion.img;
    const imgWebpPath = certificacion.img.replace('.png', '.webp');

    return (
      <div class="flex flex-col justify-center items-center gap-4 w-28 hover:opacity-80 mx-auto">
        <a href={certificacion.url} target="_blank" rel="noopener noreferrer">
          <picture>
            <source
              srcset={`${imgWebpPath}?w=112 112w, ${imgWebpPath}?w=224 224w, ${imgWebpPath}?w=448 448w`}
              sizes="(max-width: 640px) 112px, (max-width: 1024px) 224px, 448px"
              type="image/webp"
            />
            <source
              srcset={`${imgPath}?w=112 112w, ${imgPath}?w=224 224w, ${imgPath}?w=448 448w`}
              sizes="(max-width: 640px) 112px, (max-width: 1024px) 224px, 448px"
              type="image/png"
            />
            <img
              src={`${imgPath}?w=224`}
              alt={certificacion.alt}
              class="w-28 h-28"
              width="112"
              height="112"
              loading="lazy"
            />
          </picture>
        </a>
      </div>
    );
  })}
</div>
